{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\n// from documentation\nimport iziToast from \"izitoast\";\n// additional\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport const loader = document.querySelector('.loader');\n\nexport function fetchBreeds() {\n    const urlBreeds = 'https://api.thecatapi.com/v1/breeds';\n\n    return axios.get(urlBreeds)\n        .then(response => {\n            // handle success\n            loader.classList.add('visually-hidden');\n            return response.data;\n        });\n};\n\nexport function fetchCatByBreed(breedId) {\n    const urlBreedId = `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`;\n\n    return axios.get(urlBreedId)\n        .then(response => {\n            // handle success\n            loader.classList.add('visually-hidden');\n            return response.data;\n        });\n};","console.log('Searchcat');\n\n// ========== imports\nimport axios from \"axios\";\n// from documentation\nimport iziToast from \"izitoast\";\n// additional\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { loader, fetchBreeds, fetchCatByBreed } from './cat-api';\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_Mj4dcTagklL8IYwLS5vX1smuLDSA63aMtGdtHiFhusTS36p9e2Z8D9EO2I4vA9yv\";\n\n// ========== find elements\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\n\n// ========== default function declaration\naddOptions();\n\n// ========== defoult function\nfunction addOptions() {\n\n    fetchBreeds()\n        .then(breeds => {\n            const marckupOptions = breeds.map(breed => {\n                return `<option value=${breed.id}>${breed.name}</option>`\n            }).join(\"\");\n            breedSelect.innerHTML = marckupOptions;\n        })\n        .catch(error => {\n            // handle error\n            iziToast.show({\n                backgroundColor: '#FD4A3F',\n                message: 'Oops! Something went wrong! Try reloading the page!',\n                position: 'topRight',\n                transitionIn: 'flipInX',\n                transitionOut: 'flipOutX',\n            });\n            console.log(error);\n        });\n};\n\nfunction onSelect() {\n    breedSelect.disabled = true;\n    loader.classList.remove('visually-hidden');\n    catInfo.innerHTML = '';\n\n    fetchCatByBreed(breedSelect.value)\n        .then(\n            response => {\n                const [characteristics] = response;\n                const { breeds } = characteristics;\n                const marckupBreed = breeds.map(breed => {\n                return `<img src=${characteristics.url} width=370 />\n                        <div>\n                          <h2>${breed.name}</h2>\n                          <p>${breed.description}</p>\n                          <p><b>Temperament: </b>${breed.temperament}</p>\n                          <p><b>Origin: </b>${breed.origin}</p>\n                        </div>`;\n            }).join(\"\");\n                catInfo.innerHTML = marckupBreed;\n                breedSelect.disabled = false;\n        })\n        .catch(error => {\n            // handle error\n            iziToast.show({\n                backgroundColor: '#FD4A3F',\n                message: 'Oops! Something went wrong! Try reloading the page!',\n                position: 'topRight',\n                transitionIn: 'flipInX',\n                transitionOut: 'flipOutX',\n            });\n            console.log(error);\n        });\n};\n\n// ========== listener\nbreedSelect.addEventListener('change', onSelect);"],"names":["loader","fetchBreeds","urlBreeds","axios","response","fetchCatByBreed","breedId","urlBreedId","breedSelect","catInfo","addOptions","breeds","marckupOptions","breed","error","iziToast","onSelect","characteristics","marckupBreed"],"mappings":"6vBAMO,MAAMA,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAc,CAC1B,MAAMC,EAAY,sCAElB,OAAOC,EAAM,IAAID,CAAS,EACrB,KAAKE,IAEFJ,EAAO,UAAU,IAAI,iBAAiB,EAC/BI,EAAS,KACnB,CACT,CAEO,SAASC,EAAgBC,EAAS,CACrC,MAAMC,EAAa,wDAAwDD,IAE3E,OAAOH,EAAM,IAAII,CAAU,EACtB,KAAKH,IAEFJ,EAAO,UAAU,IAAI,iBAAiB,EAC/BI,EAAS,KACnB,CACT,CC5BA,QAAQ,IAAI,WAAW,EAWvBD,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAG7C,MAAMK,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,SAAS,cAAc,WAAW,EAGlDC,IAGA,SAASA,GAAa,CAElBT,EAAa,EACR,KAAKU,GAAU,CACZ,MAAMC,EAAiBD,EAAO,IAAIE,GACvB,iBAAiBA,EAAM,MAAMA,EAAM,eAC7C,EAAE,KAAK,EAAE,EACVL,EAAY,UAAYI,CACpC,CAAS,EACA,MAAME,GAAS,CAEZC,EAAS,KAAK,CACV,gBAAiB,UACjB,QAAS,sDACT,SAAU,WACV,aAAc,UACd,cAAe,UAC/B,CAAa,EACD,QAAQ,IAAID,CAAK,CAC7B,CAAS,CACT,CAEA,SAASE,GAAW,CAChBR,EAAY,SAAW,GACvBR,EAAO,UAAU,OAAO,iBAAiB,EACzCS,EAAQ,UAAY,GAEpBJ,EAAgBG,EAAY,KAAK,EAC5B,KACGJ,GAAY,CACR,KAAM,CAACa,CAAe,EAAIb,EACpB,CAAE,OAAAO,CAAQ,EAAGM,EACbC,EAAeP,EAAO,IAAIE,GACzB,YAAYI,EAAgB;AAAA;AAAA,gCAEnBJ,EAAM;AAAA,+BACPA,EAAM;AAAA,mDACcA,EAAM;AAAA,8CACXA,EAAM;AAAA,+BAEvC,EAAE,KAAK,EAAE,EACNJ,EAAQ,UAAYS,EACpBV,EAAY,SAAW,EACvC,CAAS,EACA,MAAMM,GAAS,CAEZC,EAAS,KAAK,CACV,gBAAiB,UACjB,QAAS,sDACT,SAAU,WACV,aAAc,UACd,cAAe,UAC/B,CAAa,EACD,QAAQ,IAAID,CAAK,CAC7B,CAAS,CACT,CAGAN,EAAY,iBAAiB,SAAUQ,CAAQ"}